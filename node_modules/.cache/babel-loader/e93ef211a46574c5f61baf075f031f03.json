{"ast":null,"code":"import _asyncToGenerator from\"E:/anshu/react-task/users-subs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"E:/anshu/react-task/users-subs/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"E:/anshu/react-task/users-subs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\anshu\\\\react-task\\\\users-subs\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Suscriber=function Suscriber(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"ASC\"),_useState4=_slicedToArray(_useState3,2),order=_useState4[0],setorder=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState([{}]),_useState8=_slicedToArray(_useState7,2),users=_useState8[0],setUsers=_useState8[1];var sorting=function sorting(col){if(order===\"ASC\"){var sorted=_toConsumableArray(data).sort(function(a,b){return a[col].toString().toLocaleLowerCase()>b[col].toString().toLocaleLowerCase()?1:-1;});setData(sorted);setorder(\"DSC\");}if(order===\"DSC\"){var _sorted=_toConsumableArray(data).sort(function(a,b){return a[col].toString().toLocaleLowerCase()<b[col].toString().toLocaleLowerCase()?1:-1;});setData(_sorted);setorder(\"ASC\");}};useEffect(function(){fetch('data/users.json').then(function(res){return res.json();}).then(function(data){console.log(data);setUsers(data);});},[]);var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,actualData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('./data/subscriptions.json');case 3:response=_context.sent;_context.next=6;return response.json();case 6:actualData=_context.sent;console.log(actualData);setData(actualData);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getData(){return _ref.apply(this,arguments);};}();useEffect(function(){getData();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card rounded-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-title mb-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"content-header\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Subscribed User Data List\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search_data\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"float-end mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"input-field ms-2\",placeholder:\"Search...\",onChange:function onChange(e){return setQuery(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive w-100\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover table-responsive-xl\",id:\"subsTable\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",onClick:function onClick(){return sorting(\"id\");},children:[\"ID \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sort sortings\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",onClick:function onClick(){return sorting(\"user_id\");},children:[\"User ID \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sort sortings\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",children:[\"Username \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sort sortings\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",onClick:function onClick(){return sorting(\"package\");},children:[\"Package \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sort sortings\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",onClick:function onClick(){return sorting(\"expires_on\");},children:[\"Expire on \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sort sortings\"})]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.filter(function(val){if(query===\"\"){return val;}else if(val.id.toString().toLocaleLowerCase().includes(query.toString().toLocaleLowerCase())||val.user_id.toString().toLocaleLowerCase().includes(query.toLocaleLowerCase())||val.package.toLocaleLowerCase().includes(query.toString().toLocaleLowerCase())||val.expires_on.toString().toLocaleLowerCase().includes(query.toLocaleLowerCase())){return val;}return false;}).map(function(currElem,index){var user=users.find(function(uid){return uid.id===Number(currElem.user_id);});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:currElem.id}),/*#__PURE__*/_jsx(\"td\",{children:currElem.user_id}),/*#__PURE__*/_jsxs(\"td\",{children:[(user===null||user===void 0?void 0:user.username)||'-',\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:currElem.package}),/*#__PURE__*/_jsx(\"td\",{children:currElem.expires_on})]},index);})})]})})]})]})})});};export default Suscriber;","map":{"version":3,"sources":["E:/anshu/react-task/users-subs/src/components/Subscriber.js"],"names":["React","useEffect","useState","Suscriber","query","setQuery","order","setorder","data","setData","users","setUsers","sorting","col","sorted","sort","a","b","toString","toLocaleLowerCase","fetch","then","res","json","console","log","getData","response","actualData","e","target","value","filter","val","id","includes","user_id","package","expires_on","map","currElem","index","user","find","uid","Number","username"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\n\r\nconst Suscriber = () => {\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n    const [order, setorder] = useState(\"ASC\");\r\n    const [data, setData] = useState([]);\r\n    const [users, setUsers] = useState([{}])\r\n\r\n    const sorting = (col) => {\r\n        if (order === \"ASC\") {\r\n            const sorted = [...data].sort((a, b) =>\r\n                a[col].toString().toLocaleLowerCase() > b[col].toString().toLocaleLowerCase() ? 1 : -1\r\n\r\n            );\r\n            setData(sorted);\r\n            setorder(\"DSC\");\r\n        }\r\n        if (order === \"DSC\") {\r\n            const sorted = [...data].sort((a, b) =>\r\n                a[col].toString().toLocaleLowerCase() < b[col].toString().toLocaleLowerCase() ? 1 : -1\r\n\r\n            );\r\n            setData(sorted);\r\n            setorder(\"ASC\");\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        fetch('data/users.json').then((res) => res.json()).then((data) => {\r\n            console.log(data)\r\n            setUsers(data)\r\n        })\r\n\r\n    }, []);\r\n\r\n    const getData = async () => {\r\n        try {\r\n            const response = await fetch('./data/subscriptions.json');\r\n            const actualData = await response.json();\r\n            console.log(actualData);\r\n            setData(actualData)\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getData()\r\n    }, []);\r\n\r\n   \r\n    return (\r\n        <div className=\"content-wrapper\">\r\n\r\n            <div className=\"container content\">\r\n                <div className='card rounded-0'>\r\n                    <div className=\"card-header\">\r\n                        <div className=\"card-title mb-0\">\r\n                            <span className=\"content-header\"><strong>Subscribed User Data List</strong></span>\r\n                        </div>\r\n                    </div>\r\n                    <div className='card-body'>\r\n                        <div className=\"search_data\">\r\n                            <div className=\"float-end mb-3\">\r\n                                <label>\r\n                                    Search:\r\n                                </label>\r\n                                <input type=\"search\"\r\n                                    className=\"input-field ms-2\"\r\n                                    placeholder=\"Search...\"\r\n                                    onChange={(e) => setQuery(e.target.value)}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"table-responsive w-100\">\r\n                            <table className=\"table table-hover table-responsive-xl\" id=\"subsTable\">\r\n                                <thead className=\"table-light\">\r\n                                    <tr>\r\n                                        <th scope=\"col\" onClick={() => sorting(\"id\")}>ID <i className=\"fas fa-sort sortings\"></i></th>\r\n                                        <th scope=\"col\" onClick={() => sorting(\"user_id\")}>User ID <i className=\"fas fa-sort sortings\"></i></th>\r\n                                        <th scope=\"col\">Username <i className=\"fas fa-sort sortings\"></i></th>\r\n                                        <th scope=\"col\" onClick={() => sorting(\"package\")}>Package <i className=\"fas fa-sort sortings\"></i></th>\r\n                                        <th scope=\"col\" onClick={() => sorting(\"expires_on\")}>Expire on <i className=\"fas fa-sort sortings\"></i></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n\r\n                                    {data.filter((val) => {\r\n                                        if (query === \"\") {\r\n                                            return val\r\n                                        }\r\n                                        else if (\r\n                                            val.id.toString().toLocaleLowerCase().includes(query.toString().toLocaleLowerCase())\r\n                                            || val.user_id.toString().toLocaleLowerCase().includes(query.toLocaleLowerCase())\r\n                                            || val.package.toLocaleLowerCase().includes(query.toString().toLocaleLowerCase())\r\n                                            || val.expires_on.toString().toLocaleLowerCase().includes(query.toLocaleLowerCase())\r\n                                        ) {\r\n                                            return val\r\n                                        }\r\n                                        return false;\r\n                                    }).map((currElem, index) => {\r\n\r\n                                        const user = users.find(uid => uid.id === Number(currElem.user_id));\r\n\r\n                                        return <tr key={index}>\r\n                                            <td>{currElem.id}</td>\r\n                                            <td>{currElem.user_id}</td>\r\n                                            <td>{user?.username || '-'} </td>\r\n                                            <td>{currElem.package}</td>\r\n                                            <td>{currElem.expires_on}</td>\r\n\r\n                                        </tr>\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Suscriber;"]},"metadata":{},"sourceType":"module"}